<template name="PagesShow">

  {{#if currentUser}}
    <div class="col-xs-12">
      <ol class="breadcrumb">
        <li><a href="/">Letterhead</a></li>
        <li><a href="{{pathFor 'pages.index'}}">Pages</a></li>
        <li>{{title}}</li>
      </ol>
    </div>
  {{/if}}

  <article class="col-xs-12">
    <header>
      {{#if editTitle}}
        {{> PageTitleEdit}}
      {{else}}
        {{> PageTitleShow}}
      {{/if}}
    </header>

    {{#each paragraphs}}
      {{#if otherTag}}
        <div>
          {{> ParagraphsShow}}
        </div>
      {{else}}
        <p>
          {{> ParagraphsShow}}
        </p>
      {{/if}}
    {{/each}}

    {{#if newParagraph}}
      {{> ParagraphsNew}}
    {{else}}
      {{#if currentUser}}
        <a href="#" id="new-paragraph-action">
          <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
          Add paragraph
        </a>
        {{#if emptyPage}}
          <br/>
          <a href="#" id="delete-page-action">
            <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
            Delete page
          </a>
        {{/if}}
      {{/if}}
    {{/if}}
  </article>
</template>

<template name="ParagraphsShow">
  {{#if editParagraph}}
    {{> ParagraphsEdit}}
  {{else}}
    {{#if currentUser}}
      <div class="hover-paragraph">
        {{{content}}}
        {{> ParagraphActions}}
      </div>
    {{else}}
      {{{content}}}
    {{/if}}
  {{/if}}
</template>
